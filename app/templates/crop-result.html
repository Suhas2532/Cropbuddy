{% extends 'layout.html' %} 
{% block body %}

<div id="capture-area" class="container py-2 mx-auto my-50 h-10" style="margin: 12rem;">
  <div class="row">
    <div class="col-sm py-2 py-md-3">
      <div class="card card-body" style="justify-content: center;">
        <h1 class="text-center"><b>You should grow <i>{{ prediction }} </i>in your farm</b></h1>
      </div>
    </div>
  </div>
</div>



<!-- Download Button -->
<div class="text-center mt-3">
  <button id="downloadBtn" class="btn btn-primary">Download as Image</button>
</div>

<!-- JavaScript Section -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script>
  document.getElementById('downloadBtn').addEventListener('click', function () {
    const captureElement = document.getElementById('capture-area'); // Focused capture area
    html2canvas(captureElement, {
      scale: 2, // Higher resolution
    }).then(function (canvas) {
      const link = document.createElement('a');
      link.download = 'crop-result.png'; // Adjust file name as needed
      link.href = canvas.toDataURL('image/png');
      link.click();
    });
  });
</script>
<style>
  .container {
    width: 100%;
    padding: 20px;
    background: white;
    border: 1px solid #ddd;
    margin-top: 50px;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
  }

  .move-up-btn {
    margin-top: -20px;
  }
</style>

{% endblock %}
